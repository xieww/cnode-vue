webpackJsonp([7],{155:function(t,e,n){n(270);var i=n(3)(n(247),n(280),"data-v-df4506b8",null);t.exports=i.exports},241:function(t,e,n){t.exports={default:n(242),__esModule:!0}},242:function(t,e,n){var i=n(10),s=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(241),s=n.n(i);e.default={name:"login",data:function(){return{token:"",inputErrorText:"",disabled:!0,success:!1}},methods:{login:function(){var t=this;this.$http.post("https://cnodejs.org/api/v1/accesstoken",{accesstoken:this.token}).then(function(e){if(200===e.status){var n={loginname:e.data.loginname,avatar_url:e.data.avatar_url,userId:e.data.id,token:t.token};window.window.sessionStorage.user=s()(n),t.$store.dispatch("setUserInfo",n);var i=decodeURIComponent(t.$route.query.redirect||"/");t.$router.push({path:i})}}).catch(function(t){})},setErrorText:function(){36==this.token.length?(this.inputErrorText="",this.disabled=!1):this.inputErrorText="Access Token应为36位的字符串！"}}}},260:function(t,e,n){e=t.exports=n(227)(!0),e.push([t.i,".div2[data-v-df4506b8]{padding:60px 10px 10px}.login-field[data-v-df4506b8]{width:90%}","",{version:3,sources:["D:/kaifa/github/Vue-Cnode/src/pages/login.vue"],names:[],mappings:"AACA,uBACC,sBAAuB,CACvB,AACD,8BACC,SAAW,CACX",file:"login.vue",sourcesContent:["\n.div2[data-v-df4506b8]{\r\n\tpadding:60px 10px 10px;\n}\n.login-field[data-v-df4506b8]{\r\n\twidth: 90%;\n}\r\n"],sourceRoot:""}])},270:function(t,e,n){var i=n(260);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(228)("d1018aac",i,!0)},280:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logins"},[n("mu-appbar",{attrs:{title:"登陆"}}),t._v(" "),n("div",{staticClass:"div2"},[n("mu-text-field",{staticClass:"login-field",attrs:{label:"Access Token",errorText:t.inputErrorText,maxLength:36,labelFloat:""},on:{input:t.setErrorText},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),t._v(" "),n("mu-raised-button",{attrs:{label:"确认",disabled:t.disabled,fullWidth:"",primary:""},on:{click:t.login}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=7.99a6f021cec54fc3f4e8.js.map